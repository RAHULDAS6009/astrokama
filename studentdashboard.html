<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Corner - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100">
    <!-- Header -->
    <header
      class="bg-[#523A35] border-b-4 border-[#D4A017] px-4 py-5 text-center text-white shadow-md"
    >
      <h1
        class="text-3xl md:text-4xl font-extrabold text-[#f4d37d] tracking-wide drop-shadow mb-2"
      >
        MODERN ASTROLOGY
      </h1>
      <p class="text-xs md:text-sm font-semibold tracking-wide">
        KRISHNAMURTI ACADEMY OF MODERN ASTROLOGY & SPIRITUAL DEVELOPMENT
      </p>
      <p class="text-xs mt-2 opacity-90">
        Registered Under Government of West Bengal & Government of India â€¢ ISO
        Certified Institute
      </p>
    </header>

    <!-- Navbar -->
    <nav class="bg-[#523A35] shadow-lg sticky top-0 z-50">
      <div class="px-4 md:px-8 py-4 flex justify-between items-center">
        <h2 class="text-xl md:text-2xl font-bold text-white">
          Student Dashboard
        </h2>
        <button
          onclick="logout()"
          class="bg-white text-[#523A35] px-5 py-2 rounded-lg font-semibold hover:bg-gray-100 transition"
        >
          Logout
        </button>
      </div>
    </nav>

    <!-- Main Container -->
    <div class="flex flex-col lg:flex-row">
      <!-- Sidebar - Study Materials -->
      <aside
        class="w-full lg:w-80 bg-white shadow-lg p-5 lg:min-h-screen overflow-y-auto"
      >
        <h3
          class="text-lg font-bold text-[#523A35] mb-5 pb-3 border-b-2 border-[#D4A017]"
        >
          ðŸ“š Study Materials
        </h3>
        <div id="studyMaterials" class="space-y-3"></div>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 p-4 md:p-8 space-y-8">
        <!-- Student Info -->
        <div class="bg-white rounded-xl shadow-lg p-6">
          <h3 class="text-xl font-bold text-[#523A35] mb-5">
            Student Information
          </h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-xs text-gray-600 mb-1">Student Name</div>
              <div class="text-lg font-bold text-[#523A35]" id="studentName">
                DKP
              </div>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-xs text-gray-600 mb-1">Enrollment ID</div>
              <div class="text-lg font-bold text-[#523A35]" id="enrollmentId">
                KAMKASD-2024-001
              </div>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-xs text-gray-600 mb-1">Total Semesters</div>
              <div class="text-lg font-bold text-[#523A35]">4</div>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-xs text-gray-600 mb-1">Current Status</div>
              <div class="text-lg font-bold text-green-600">Active</div>
            </div>
          </div>
        </div>

        <!-- Semesters -->
        <div id="semestersContainer" class="space-y-8"></div>
      </main>
    </div>

    <script>
      // Student Data
      const studentData = {
        name: "DKP",
        enrollmentId: "KAMKASD-2024-001",
        semesters: [
          {
            number: 1,
            name: "DKP",
            startMonth: "Jan-25",
            endMonth: "Mar-25",
            examDate: "29th March 2025",
            marksObtained: 170,
            grade: "1st Division",
            status: "Completed",
            payments: [
              {
                detail: "Admission",
                date: "5th Dec 2024",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month Jan 25",
                date: "7th Jan 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month Feb 25",
                date: "10th Jan 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "cash manual",
              },
              {
                detail: "Month Mar 25",
                date: "15th March 2025",
                fees: 1000,
                lateFine: 50,
                status: "Paid",
                mode: "via website",
              },
            ],
          },
          {
            number: 2,
            name: "Advanced KP",
            startMonth: "Apr-25",
            endMonth: "Jun-25",
            examDate: "28th June 2025",
            marksObtained: 185,
            grade: "1st Division",
            status: "Completed",
            payments: [
              {
                detail: "Month Apr 25",
                date: "5th Apr 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month May 25",
                date: "8th May 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month Jun 25",
                date: "12th Jun 2025",
                fees: 1000,
                lateFine: 100,
                status: "Paid",
                mode: "cash manual",
              },
            ],
          },
          {
            number: 3,
            name: "Predictive Techniques",
            startMonth: "Jul-25",
            endMonth: "Sep-25",
            examDate: "30th September 2025",
            marksObtained: 195,
            grade: "1st Division",
            status: "Completed",
            payments: [
              {
                detail: "Month Jul 25",
                date: "5th Jul 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month Aug 25",
                date: "10th Aug 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month Sep 25",
                date: "8th Sep 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
            ],
          },
          {
            number: 4,
            name: "Professional Astrology",
            startMonth: "Oct-25",
            endMonth: "Dec-25",
            examDate: "20th December 2025",
            marksObtained: null,
            grade: null,
            status: "In Progress",
            payments: [
              {
                detail: "Month Oct 25",
                date: "5th Oct 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month Nov 25",
                date: "8th Nov 2025",
                fees: 1000,
                lateFine: 0,
                status: "Paid",
                mode: "via website",
              },
              {
                detail: "Month Dec 25",
                date: "Due: 5th Dec 2025",
                fees: 1000,
                lateFine: 0,
                status: "Pending",
                mode: "-",
              },
            ],
          },
        ],
        studyMaterials: [
          {
            semester: 1,
            title: "Semester 1 - DKP Notes",
            type: "PDF",
            url: "#",
          },
          { semester: 1, title: "KP Fundamentals", type: "PDF", url: "#" },
          { semester: 1, title: "Practice Charts", type: "PDF", url: "#" },
          {
            semester: 2,
            title: "Semester 2 - Advanced KP",
            type: "PDF",
            url: "#",
          },
          { semester: 2, title: "Sub Lord Theory", type: "PDF", url: "#" },
          { semester: 2, title: "Timing of Events", type: "PDF", url: "#" },
          {
            semester: 3,
            title: "Semester 3 - Predictions",
            type: "PDF",
            url: "#",
          },
          { semester: 3, title: "Horary Astrology", type: "PDF", url: "#" },
          { semester: 3, title: "Case Studies", type: "PDF", url: "#" },
          {
            semester: 4,
            title: "Semester 4 - Professional",
            type: "PDF",
            url: "#",
          },
          { semester: 4, title: "Consultation Guide", type: "PDF", url: "#" },
          { semester: 4, title: "Ethics in Astrology", type: "PDF", url: "#" },
        ],
      };

      // Render Study Materials
      function renderStudyMaterials() {
        const container = document.getElementById("studyMaterials");
        container.innerHTML = studentData.studyMaterials
          .map(
            (material) => `
        <div class="bg-gray-50 p-4 rounded-lg border-l-4 border-[#523A35] hover:bg-gray-100 hover:translate-x-1 transition-all">
          <div class="font-semibold text-sm text-[#523A35] mb-2">ðŸ“„ ${material.title}</div>
          <span class="text-xs text-gray-600 bg-gray-200 px-2 py-1 rounded inline-block mb-3">
            Semester ${material.semester} â€¢ ${material.type}
          </span>
          <button onclick="downloadMaterial('${material.title}')" 
            class="w-full bg-[#523A35] text-white text-xs py-2 px-3 rounded hover:bg-[#3d2a27] transition">
            â¬‡ Download
          </button>
        </div>
      `
          )
          .join("");
      }

      // Render Semesters
      function renderSemesters() {
        const container = document.getElementById("semestersContainer");
        container.innerHTML = studentData.semesters
          .map((semester) => {
            const totalFees = semester.payments.reduce(
              (sum, p) => sum + p.fees + p.lateFine,
              0
            );

            return `
          <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <!-- Semester Header -->
            <div class="bg-[#523A35] text-white px-6 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3">
              <div class="text-xl font-bold">Semester ${semester.number}: ${
              semester.name
            }</div>
              <div class="bg-[#D4A017] px-4 py-1 rounded-full text-sm font-semibold">
                ${semester.status}
              </div>
            </div>

            <!-- Table Container -->
            <div class="p-6 overflow-x-auto">
              <table class="w-full border-collapse min-w-[900px]">
                <thead>
                  <tr class="bg-[#523A35] text-white text-sm">
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Starting Month</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Ending Month</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Details</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Date</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Fees</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Late Fine</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Total Amount</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Status</th>
                    <th class="border border-gray-300 px-4 py-3 text-left font-semibold">Payment Mode</th>
                  </tr>
                </thead>
                <tbody class="text-sm">
                  ${semester.payments
                    .map(
                      (payment, index) => `
                    <tr class="hover:bg-gray-50 transition ${
                      index % 2 === 0 ? "bg-white" : "bg-gray-50"
                    }">
                      ${
                        index === 0
                          ? `
                        <td rowspan="${semester.payments.length}" class="border border-gray-300 px-4 py-3 font-medium text-[#523A35]">${semester.startMonth}</td>
                        <td rowspan="${semester.payments.length}" class="border border-gray-300 px-4 py-3 font-medium text-[#523A35]">${semester.endMonth}</td>
                      `
                          : ""
                      }
                      <td class="border border-gray-300 px-4 py-3">${
                        payment.detail
                      }</td>
                      <td class="border border-gray-300 px-4 py-3">${
                        payment.date
                      }</td>
                      <td class="border border-gray-300 px-4 py-3">â‚¹${
                        payment.fees
                      }</td>
                      <td class="border border-gray-300 px-4 py-3 ${
                        payment.lateFine > 0 ? "text-red-600 font-semibold" : ""
                      }">
                        ${payment.lateFine > 0 ? "â‚¹" + payment.lateFine : "0"}
                      </td>
                      <td class="border border-gray-300 px-4 py-3 font-bold">â‚¹${
                        payment.fees + payment.lateFine
                      }</td>
                      <td class="border border-gray-300 px-4 py-3">
                        <span class="${
                          payment.status === "Paid"
                            ? "bg-green-600"
                            : "bg-red-600"
                        } text-white px-3 py-1 rounded-full text-xs font-semibold inline-block">
                          ${payment.status}
                        </span>
                      </td>
                      <td class="border border-gray-300 px-4 py-3">${
                        payment.mode
                      }</td>
                    </tr>
                  `
                    )
                    .join("")}
                  <tr class="bg-gray-200 font-bold">
                    <td colspan="6" class="border border-gray-300 px-4 py-3 text-right">Total</td>
                    <td colspan="3" class="border border-gray-300 px-4 py-3 text-lg">â‚¹${totalFees}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Exam Results -->
            ${
              semester.marksObtained
                ? `
              <div class="p-6 bg-gray-50 border-t-2 border-[#D4A017]">
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                  <div class="text-center bg-white p-5 rounded-lg shadow">
                    <div class="text-xs text-gray-600 mb-2">Exam Date</div>
                    <div class="text-lg font-bold text-[#523A35]">${semester.examDate}</div>
                  </div>
                  <div class="text-center bg-white p-5 rounded-lg shadow">
                    <div class="text-xs text-gray-600 mb-2">Marks Obtained</div>
                    <div class="text-3xl font-bold text-[#523A35]">${semester.marksObtained}</div>
                  </div>
                  <div class="text-center bg-white p-5 rounded-lg shadow">
                    <div class="text-xs text-gray-600 mb-2">Grade</div>
                    <div class="text-3xl font-bold text-green-600">${semester.grade}</div>
                  </div>
                </div>
              </div>
            `
                : `
              <div class="p-6 bg-gray-50 border-t-2 border-[#D4A017]">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div class="text-center bg-white p-5 rounded-lg shadow">
                    <div class="text-xs text-gray-600 mb-2">Exam Date</div>
                    <div class="text-lg font-bold text-[#523A35]">${semester.examDate}</div>
                  </div>
                  <div class="text-center bg-white p-5 rounded-lg shadow">
                    <div class="text-xs text-red-600 mb-2">Status</div>
                    <div class="text-xl font-bold text-red-600">Exam Pending</div>
                  </div>
                </div>
              </div>
            `
            }
          </div>
        `;
          })
          .join("");
      }

      // Download Material Function
      function downloadMaterial(title) {
        alert(
          `Downloading: ${title}\n\nIn production, this would download the actual file.`
        );
      }

      // Logout Function
      function logout() {
        // if (confirm("Are you sure you want to logout?")) {
        // alert("Logout successful! Redirecting to login page...");
        window.location.href = "studentcorner.html";
        // }
      }

      // Initialize
      document.addEventListener("DOMContentLoaded", () => {
        renderStudyMaterials();
        renderSemesters();
      });
    </script>
  </body>
</html>
